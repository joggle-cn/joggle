#!/bin/sh


#                            _ooOoo_
#                            o8888888o
#                            88" . "88
#                            (| -_- |)
#                            O\  =  /O
#                         ____/`---'\____
#                       .'  \\|     |//  `.
#                      /  \\|||  :  |||//  \
#                     /  _||||| -:- |||||_  \
#                     |   | \\\  -  /'| |   |
#                     | \_|  `\`---'//  |_/ |
#                     \  .-\__ `-. -'__/-.  /
#                   ___`. .'  /--.--\  `. .'___
#                ."" '<  `.___\_<|>_/___.' _> \"".
#               | | :  `- \`. ;`. _/; .'/ /  .' ; |
#               \  \ `-.   \_\_`. _.'_/_/  -' _.' /
#             ===`-.`___`-.__\ \___  /__.-'_.'_.-'===

PRG="$0"

while [ -h "$PRG" ]; do
  ls=`ls -ld "$PRG"`
  link=`expr "$ls" : '.*-> \(.*\)$'`
  if expr "$link" : '/.*' > /dev/null; then
    PRG="$link"
  else
    PRG=`dirname "$PRG"`/"$link"
  fi
done

BINDIR=`dirname "$PRG"`


bin=`dirname "$PRG"`

BULLET_HOME=`dirname "$bin"`
BULLET_BIN="$BULLET_HOME/bin/ngrok"
BULLET_CONF_DIR="$BULLET_HOME/conf"
BULLET_LOG_DIR="$BULLET_HOME/logs"

echo "Bullet当前工作目录: $BULLET_HOME"
echo "Bullet配置文件目录: $BULLER_CONF_DIR"

BULLET_BIN -log $BULLET_LOG_DIR/bullet.log -config=BULLET_CONF_DIR/ngrok.yml  start-all
